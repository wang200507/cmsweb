<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>楼层分布图</title>
	<link rel="stylesheet" href="css/element-ui-2.0.8.min.css">
	<style>
		html, body {
			width: 100%;
			height: 100%;
			overflow: auto;
			margin: 0;
			padding: 0;
			text-align: center;
		}
		.svgWrap {
			display: inline-block;
			width: 1654px;
			height: 737px;
			border: 2px solid rgb(53, 117, 64);
			padding: 30px;
			margin-bottom: 30px;
			box-sizing: border-box;
		}
		.svgWrap:first-child {
			margin-top: 30px;
		}
		.svgWrap svg g {
			outline: 0;
		}
		.svgWrap h3 {
			font-size: 28px;
			margin: 0;
		}
	</style>
</head>
<body>
<div id="floorPlan">
	<div id="title10" class="svgWrap">
		<h3>十层办公室分布图</h3>
	</div>
	<div id="title9" class="svgWrap">
		<h3>九层办公室分布图</h3>
	</div>
</div>

<script src="js/jquery-1.8.3.min.js"></script>
<script src="js/vue.min.js"></script>
<script src="js/element-ui-2.0.8.min.js"></script>
<script>
    new Vue({
        el: '#floorPlan',
        created: function() {
            var _this = this;
            $.when($.ajax({
                url: 'svg/floorPlan9.svg',
                dataType: 'xml'
            }), $.ajax({
                url: 'svg/floorPlan10.svg',
                dataType: 'xml'
            })).then(function(r1, r2) {
                var floorPlan10 = r2[2].responseText;
                var floorPlan9 = r1[2].responseText;
                $('#title10').append(floorPlan10);
                $('#title9').append(floorPlan9);
                var $rooms = $('rect[fill="#F7F8F8"]').parent();
                $rooms.click(function() {
                    var $this = $(this);
                    var $rect = $this.find('rect');
                    var title = $this.find('text').text();
                    title = title.match(/[\u2E80-\u9FFF]+/)[0];
                    $rect.attr('fill', '#a8e5cf');
                    _this.$msgbox({
                        title: title,
                        dangerouslyUseHTMLString: true,
                        message: '<strong>这是 <i>HTML</i> 片段</strong>',
                        showCancelButton: false,
                        confirmButtonText: '关闭',
                        lockScroll: false
                    }).then(function(confirm) {
                    }, function(cancel) {
                    });
                }).blur(function() {
                    var $this = $(this).find('rect');
                    $this.attr('fill', '#F7F8F8');
                });
            }, function(err) {
                console.log(err);
            });
        }
    });
</script>
</body>
</html>